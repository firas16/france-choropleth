<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Carto</title>


  <!-- ‘France Choropleth’ dependencies -->

  <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0-beta.1/leaflet.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/awesomplete/1.0.0/awesomplete.min.js"></script>
  <link href="//cdnjs.cloudflare.com/ajax/libs/awesomplete/1.0.0/awesomplete.min.css" rel="stylesheet" />
  <link href="//cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0-beta.1/leaflet.css" rel="stylesheet" />


  <!-- ‘France Choropleth’ script and style -->

  <script src="/france.js"></script>
  <link href="/france.css" rel="stylesheet" />

</head>

<body>

  <h1>France Choropleth</h1>


  <!-- Div containing the future map -->

  <div id="map"></div>

  <script>


   // Create the map with Leaflet

    var map = L.map("map",{ center: [46.6, 2.1],
                            zoom: 5.6,
                            minZoom: 1,
                            maxZoom: 9 })
                .addLayer(new L.tileLayer('https://cartodb-basemaps-b.global.ssl.fastly.net/light_nolabels/{z}/{x}/{y}.png', { subdomains: 'abcd', detectRetina: 1 }));


    // Create the choropleth with layers

    var choropleth = new france(map,
                          {
                             stat: 'second',
                             file: '/data/stats/second.csv',
                            title: ['Résidences secondaires','en 2012'],
                           domain: [0,10,75,100],
                            range: ['#01665e','#01665e','#e08214','#e08214'],
                             unit: '%',
                             plus: ''
                          },
                          {
                             stat: 'unemployement',
                             file: '/data/stats/unemployement.csv',
                            title: ['Chômage','en 2012'],
                           domain: [0,5,15,20],
                            range: ['#006837','#006837','#d62728','#d62728'],
                             unit: '%',
                             plus: ''
                          },
                          {
                             stat: 'empty',
                             file: '/data/stats/empty.csv',
                            title: ['Logements vacants','en 2012'],
                           domain: [0,5,25],
                            range: ['#045a8d','#045a8d','#e08214'],
                             unit: '%',
                             plus: ''
                          },
                          {
                             stat: 'growth',
                             file: '/data/stats/growth.csv',
                            title: ['Variation de la population','2007-2012'],
                           domain: [-1,1],
                            range: ['#bd0026','#045a8d'],
                             unit: '% par an',
                             plus: '+'
                          }
                        );

  </script>

</body>
</html>
